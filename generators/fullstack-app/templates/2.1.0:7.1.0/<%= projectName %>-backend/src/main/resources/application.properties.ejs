# WEB CONFIGS 
#
server.servlet.context-path=/<%=projectName%>
server.port=${SERVER_PORT:8080}
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false

#
# DATABASE CONFIGS
#
spring.datasource.url=${DB_URL:jdbc:oracle:thin:@localhost:1521:xe}
spring.datasource.driver-class-name=${DB_DRIVER:oracle.jdbc.driver.OracleDriver}
spring.datasource.username=${DB_USERNAME:adm<%=projectName%>}
spring.datasource.password=${DB_PASSWORD:adm<%=projectName%>}
spring.jpa.hibernate.ddl-auto=update
spring.datasource.sqlScriptEncoding=UTF-8
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.use-new-id-generator-mappings=true
spring.datasource.initialization-mode=always
spring.datasource.continue-on-error=true
spring.jackson.mapper.default-view-inclusion=true

#
# LOG CONFIGS
# 
logging.level.br.jus=${LOG_LEVEL:DEBUG}
logging.level.org.hibernate.SQL=${LOG_LEVEL:DEBUG}
logging.level.org.springframework.jdbc.core.JdbcTemplate=${LOG_LEVEL:debug}
logging.level.org.keycloak=trace

#
# FLYWAY CONFIGS
# Devido a incompatibilidade com o Oracle 10c é necessário Comentar os códigos do flayway no aap.properties
#spring.flyway.baseline-version=0
#spring.flyway.baseline-on-migrate=true

#
#KEYCLOAK
#
keycloak.auth-server-url=${KEYCLOAK_URL:http://localhost:8085/auth}
keycloak.realm=${KEYCLOAK_REALM:TRE-PA}
keycloak.resource=${KEYCLOAK_CLIENT_ID:<%=projectName%>-backend}
keycloak.credentials.secret=${KEYCLOAK_SECRET:<%=backendSecret%>}
keycloak.ssl-required=external
keycloak.use-resource-role-mappings=true
keycloak.bearer-only=true

kc.adm-user=${KEYCLOAK_ADM_USER:admin}
kc.adm-pass=${KEYCLOAK_ADM_PASS:admin}
kc.base-url=${KEYCLOAK_BASE_URL:http://localhost:8080/<%=projectName%>}
kc.redirect-uris=${KEYCLOAK_REDIRECT_URIS:http://localhost:4200/*,http://localhost:8080/*}

# Desabilitação do Keyloak para senvir o index.html
keycloak.policy-enforcer-config.paths[0].path=/*
keycloak.policy-enforcer-config.paths[0].enforcement-mode=DISABLED

# Desabilitação do Keyloak para {kc.base-url}/h2/*
keycloak.policy-enforcer-config.paths[1].path=/h2/*
keycloak.policy-enforcer-config.paths[1].enforcement-mode=DISABLED

# Desabilitação do Keyloak para {kc.base-url}/env/*
keycloak.policy-enforcer-config.paths[2].path=/env/*
keycloak.policy-enforcer-config.paths[2].enforcement-mode=DISABLED

keycloak.policy-enforcer-config.enforcement-mode=ENFORCING
keycloak.policy-enforcer-config.http-method-as-scope=true
